<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Journal</title>
    <!-- Include CSS -->
    <link rel="stylesheet" href="css/journal.css">
    <!-- Include fontawesome -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
    <!-- Include Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
    <script>
        window.embeddedChatbotConfig = {
            chatbotId: "hU_TbBz6XTU9AqSEDWrOx",
            domain: "www.chatbase.co"
        };
    </script>
    <script src="https://www.chatbase.co/embed.min.js" chatbotId="hU_TbBz6XTU9AqSEDWrOx" domain="www.chatbase.co" defer></script>
</head>
<body>

<header>  
    <nav>
        <input type="checkbox" id="check">
        <label for="check" class="checkbtn">
            <i class="fas fa-bars"></i>
        </label>
        
        <img src="Images/2.png" alt="ui logo" class="logo" >
        
        <ul>
            <li><a href="Dashboard.html">Dashboard</a></li>
            <li><a href="customization.html">Meditation</a></li>
            <li><a href="journal.html">Journal</a></li>
        </ul>
    </nav>
</header>

<section>
    <div class="container1"> 
        <h3 class="title">Journal</h3>
        <h3 class="title-2">Peace + Clarity = Mindfulness</h3>
    </div>

    <div class="container">


        <form id="form">
            <div class="question">
                <label for="input">How are you feeling today?</label>
                <textarea id="input" name="feeling" rows="3" placeholder="Write your feelings here...

Consider the following:

- How was yesterday's trades?

- How do the markets look?

- Are you feeling refreshed?

- How was your morning?"></textarea>

                <p id="response">Waiting for an input...</p>
            </div>
            




            <button type="submit" class="submit-btn">Submit</button>
      
    </div>
</section>

<script>
    const responseElement = document.getElementById('response');
    const inputElement = document.getElementById('input');
    const formElement = document.getElementById('form');

    formElement.addEventListener('submit', event => {
        event.preventDefault();

        fetch('/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                text: inputElement.value
            })
        }).then(res => res.json())
        .then(res => {
            responseElement.innerText = res[0]?.label === 'POSITIVE' ? 'You are in an optimal state for a trading session, enjoy the process and follow your plan. Remember that elevated emotions that are positive may also affect you, emotional equilibrium should be the aim!' : 'It seems that you are emotionally elevated and should look to sit the session out. You can use the meditation tool or speak to the chat bot on advice to regulate your emotions. Remember, trading is a long term game made up of short term high quality decisions!';
            inputElement.value = '';
        })
    })
</script>

</body>
</html>
